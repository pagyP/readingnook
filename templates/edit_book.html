{% extends "base.html" %}

{% block title %}Edit Book - Reading Nook{% endblock %}

{% block extra_css %}
<style>
    .form-container {
        max-width: 500px;
        margin: 0 auto;
    }
    
    .form-group {
        margin-bottom: 20px;
    }
    
    label {
        display: block;
        margin-bottom: 8px;
        font-weight: 600;
        color: #333;
    }
    
    input[type="text"],
    input[type="date"],
    input[type="number"],
    textarea,
    select {
        width: 100%;
        padding: 10px;
        border: 1px solid #ddd;
        border-radius: 5px;
        font-family: inherit;
        font-size: 1em;
        box-sizing: border-box;
    }
    
    textarea {
        resize: vertical;
        min-height: 100px;
    }
    
    input[type="text"]:focus,
    input[type="date"]:focus,
    input[type="number"]:focus,
    textarea:focus,
    select:focus {
        outline: none;
        border-color: #667eea;
        box-shadow: 0 0 5px rgba(102, 126, 234, 0.3);
    }
    
    .form-errors {
        background-color: #f8d7da;
        color: #721c24;
        padding: 12px;
        border-radius: 5px;
        margin-bottom: 15px;
        border: 1px solid #f5c6cb;
    }
    
    .form-errors ul {
        margin: 0;
        padding-left: 20px;
    }
    
    .form-errors li {
        margin: 5px 0;
        font-size: 0.9em;
    }
    
    .form-actions {
        display: flex;
        gap: 10px;
        margin-top: 30px;
    }
    
    .form-actions button {
        flex: 1;
    }
</style>
{% endblock %}

{% block content %}
    <div class="form-container">
        <h2 style="color: #667eea; margin-bottom: 20px;">✏️ Edit Book</h2>
        
        <form method="POST" novalidate>
            {{ form.hidden_tag() }}
            
            <div class="form-group">
                <label for="title">Book Title *</label>
                {{ form.title(size=40, class="form-control") }}
                {% if form.title.errors %}
                    <div class="form-errors">
                        <ul>
                        {% for error in form.title.errors %}
                            <li>{{ error }}</li>
                        {% endfor %}
                        </ul>
                    </div>
                {% endif %}
            </div>
            
            <div class="form-group">
                <label for="author">Author *</label>
                {{ form.author(size=40, class="form-control") }}
                {% if form.author.errors %}
                    <div class="form-errors">
                        <ul>
                        {% for error in form.author.errors %}
                            <li>{{ error }}</li>
                        {% endfor %}
                        </ul>
                    </div>
                {% endif %}
            </div>
            
            <div class="form-group">
                <label for="isbn">ISBN</label>
                {{ form.isbn(size=40, placeholder="978-0-123456-78-9", class="form-control") }}
                {% if form.isbn.errors %}
                    <div class="form-errors">
                        <ul>
                        {% for error in form.isbn.errors %}
                            <li>{{ error }}</li>
                        {% endfor %}
                        </ul>
                    </div>
                {% endif %}
            </div>
            
            <div class="form-group">
                <label for="genre">Genre</label>
                {{ form.genre(size=40, placeholder="Fiction, Mystery, Science Fiction, etc.", class="form-control") }}
                {% if form.genre.errors %}
                    <div class="form-errors">
                        <ul>
                        {% for error in form.genre.errors %}
                            <li>{{ error }}</li>
                        {% endfor %}
                        </ul>
                    </div>
                {% endif %}
            </div>
            
            <div class="form-group">
                <label for="format">Format *</label>
                {{ form.format(class="form-control") }}
                {% if form.format.errors %}
                    <div class="form-errors">
                        <ul>
                        {% for error in form.format.errors %}
                            <li>{{ error }}</li>
                        {% endfor %}
                        </ul>
                    </div>
                {% endif %}
            </div>
            
            <div class="form-group">
                <label for="rating">Rating (1-5 stars)</label>
                {{ form.rating(min=1, max=5, class="form-control") }}
                {% if form.rating.errors %}
                    <div class="form-errors">
                        <ul>
                        {% for error in form.rating.errors %}
                            <li>{{ error }}</li>
                        {% endfor %}
                        </ul>
                    </div>
                {% endif %}
            </div>
            
            <div class="form-group">
                <label for="notes">Notes</label>
                {{ form.notes(rows=4, placeholder="Your thoughts about the book...", class="form-control") }}
                {% if form.notes.errors %}
                    <div class="form-errors">
                        <ul>
                        {% for error in form.notes.errors %}
                            <li>{{ error }}</li>
                        {% endfor %}
                        </ul>
                    </div>
                {% endif %}
            </div>
            
            <div class="form-actions">
                {{ form.submit(value="Update Book", class="btn btn-primary") }}
                <a href="{{ url_for('index') }}" class="btn btn-secondary" style="text-align: center;">Cancel</a>
            </div>
        </form>
    </div>
{% endblock %}
